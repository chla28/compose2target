name: chla-pod1
services:
    mariadb-chla:
        container_name: mariadb-chla
        image: registry.redhat.io/rhel9/mariadb-1011:latest
        labels:
            - description:"Database for demo"
        restart: always
        volumes:
            - /local/data/DB/Chla_DB: /var/lib/mysql/data
        ports:
            - MARIADB_PORT: 3306
        environment:
            - MYSQL_USER=$MARIADB_USER
            - MYSQL_PASSWORD="$MARIADB_PASSWORD"
            - MYSQL_DATABASE="$MARIADB_DATABASE"
        secrets:
            - mariadb-chla-secret
        security_opt:
            - "label=level:s0:$LABELC100,$LABELC110"
            - "label=filetype:usb_t"
            - "label=type:spc_t"
            - "label=disable"
            - "label=nested"
        configs:
            - jhkjhkjhjh
            - yyy
        working_dir: /var/lib/mysql/data
        deploy:
            resources:
                limits:
                    cpus: 2
                    memory: 512M
                reservations:
                    cpus: '1.5'
                    memory: 256M
